{% extends "base.html" %}

{% block title %}Relaxation Games - Mind Aware{% endblock %}

{% block content %}
<section class="games-section">
    <div class="section-header">
        <h2>ğŸ® Relaxation Games</h2>
        <p>Take a break and clear your mind with these calming games. No timers, no pressureâ€”just pure relaxation.</p>
    </div>

    <!-- Music Suggestion -->
    <div class="music-suggestion" id="gameMusicSuggestion">
        <span class="suggestion-icon">ğŸµ</span>
        <p>Pair your game with relaxing focus music for double the relaxation!</p>
        <a href="/music?playlist=focus" class="suggestion-btn">Play Music</a>
    </div>

    <!-- Games Grid -->
    <div class="games-grid">
        <!-- Bubble Shooter -->
        <div class="game-card featured">
            <div class="game-header">
                <h3>ğŸ«§ Bubble Shooter</h3>
                <span class="game-badge">Featured</span>
            </div>
            <div class="game-canvas-container">
                <canvas id="bubbleCanvas" width="400" height="500"></canvas>
                <div class="game-overlay" id="gameOverlay">
                    <button class="play-btn" id="startGameBtn">
                        <span>â–¶</span> Start Game
                    </button>
                </div>
            </div>
            <div class="game-controls">
                <div class="score-display">
                    <span>Score:</span>
                    <span id="gameScore">0</span>
                </div>
                <button class="control-btn" id="resetGameBtn">ğŸ”„ Reset</button>
            </div>
            <p class="game-instructions">Click or tap to shoot bubbles. Match 3+ colors to pop them!</p>
        </div>

        <!-- Bubble Pop (Fidget) -->
        <div class="game-card">
            <div class="game-header">
                <h3>ğŸ”® Bubble Pop</h3>
                <span class="game-badge relaxing">Relaxing</span>
            </div>
            <div class="game-canvas-container bubble-pop-container">
                <canvas id="bubblePopCanvas" width="400" height="400"></canvas>
            </div>
            <div class="game-controls">
                <div class="pop-count">
                    <span>Popped:</span>
                    <span id="popCount">0</span>
                </div>
                <button class="control-btn" id="resetPopBtn">ğŸ”„ New Bubbles</button>
            </div>
            <p class="game-instructions">Simply pop the bubbles for instant satisfaction. No goals, just pop!</p>
        </div>

        <!-- Color Breathing -->
        <div class="game-card mini-game">
            <div class="game-header">
                <h3>ğŸŒˆ Color Flow</h3>
                <span class="game-badge calming">Calming</span>
            </div>
            <div class="color-flow-container" id="colorFlowContainer">
                <div class="color-blob"></div>
                <div class="color-blob"></div>
                <div class="color-blob"></div>
            </div>
            <p class="game-instructions">Watch the colors flow. Perfect for a meditative moment.</p>
            <button class="control-btn" id="toggleColorFlow">â¸ Pause</button>
        </div>

        <!-- Pattern Match -->
        <div class="game-card mini-game">
            <div class="game-header">
                <h3>âœ¨ Zen Stars</h3>
                <span class="game-badge calming">Calming</span>
            </div>
            <div class="zen-stars-container" id="zenStarsContainer">
                <!-- Stars generated by JS -->
            </div>
            <p class="game-instructions">Click to add calming stars. Create your own peaceful sky.</p>
            <button class="control-btn" id="clearStarsBtn">ğŸ—‘ï¸ Clear Sky</button>
        </div>
    </div>

    <!-- Game Tips -->
    <div class="game-tips">
        <h3>ğŸ’¡ Why Games Help</h3>
        <div class="tips-grid">
            <div class="tip-card">
                <span class="tip-icon">ğŸ§ </span>
                <h4>Mental Break</h4>
                <p>Games give your mind a break from stress and anxious thoughts.</p>
            </div>
            <div class="tip-card">
                <span class="tip-icon">ğŸ¯</span>
                <h4>Flow State</h4>
                <p>Simple, repetitive actions help you enter a calm, focused state.</p>
            </div>
            <div class="tip-card">
                <span class="tip-icon">ğŸ˜Š</span>
                <h4>Dopamine Boost</h4>
                <p>Small wins release feel-good chemicals in your brain.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="/static/js/bubbleShooter.js"></script>
<script src="/static/js/bubblePop.js"></script>
<script src="/static/js/miniGames.js"></script>
{% endblock %}